(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const h of i.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();const a={LEFT:"ArrowLeft",DOWN:"ArrowDown",RIGHT:"ArrowRight"},u=[[[1,1],[1,1]],[[1,1,1,1]],[[0,1,0],[1,1,1]],[[1,1,0],[0,1,1]],[[0,1,1],[1,1,0]],[[1,0],[1,0],[1,1]],[[0,1],[0,1],[1,1]]],C=1e3;function E(e,t){return Math.floor(Math.random()*(t-e+1)+e)}const f=document.querySelector("canvas"),l=f.getContext("2d");let y;const S="black",I="white",_="gray",d=20,g=14,O=30,c=Array(O).fill().map(()=>Array(g).fill(0)),o={position:{x:5,y:5},shape:u[Math.floor(Math.random()*u.length)]};f.width=d*g;f.height=d*O;l.scale(d,d);m();L();b();w();function m(){l.fillStyle=S,l.fillRect(0,0,f.width,f.height),c.forEach((e,t)=>{e.forEach((s,r)=>{s===1&&(l.fillStyle=I,l.fillRect(r,t,1,1))})})}function L(){l.fillStyle=_,o.shape.forEach((e,t)=>{e.forEach((s,r)=>{s&&l.fillRect(r+o.position.x,t+o.position.y,1,1)})})}function M(){m(),L()}function p(e,t){return t<=c.length-1&&e<=c[t].length-1?o.shape.find((s,r)=>s.some((n,i)=>n?!c[r+t]||c[r+t][i+e]===void 0?!0:c[r+t][i+e]!==0:!1)):!0}function T(){o.shape.forEach((e,t)=>{e.forEach((s,r)=>{c[o.position.y+t][o.position.x+r]=s})}),x()}function R(e){switch(e){case a.LEFT:p(o.position.x-1,o.position.y)||o.position.x--;break;case a.RIGHT:p(o.position.x+1,o.position.y)||o.position.x++;break;case a.DOWN:p(o.position.x,o.position.y+1)?T():o.position.y++,clearInterval(y),w();break}M()}function b(){document.addEventListener("keydown",e=>R(e.key))}function w(){y=setInterval(()=>R(a.DOWN),C)}function x(){let e;do e=u[E(0,u.length)];while(!e);let t=0;e.forEach((s,r)=>{s.length>t&&(t=s.length)}),o.position.x=E(0,t),o.position.y=0,o.shape=e}
